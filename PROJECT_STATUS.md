# –°—Ç–∞—Ç—É—Å –ø—Ä–æ–µ–∫—Ç–∞ Card Limit Manager

## ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### Frontend (React + TypeScript)

- ‚úÖ –§–æ—Ä–º–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞—è–≤–∫–∏ –Ω–∞ –ø–æ–≤—ã—à–µ–Ω–∏–µ –ª–∏–º–∏—Ç–∞
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–æ–ª–µ–π (—Å—É–º–º–∞, –≤–∞–ª—é—Ç–∞, –æ–±–æ—Å–Ω–æ–≤–∞–Ω–∏–µ, –¥–∞—Ç–∞)
- ‚úÖ –û—Ç–ø—Ä–∞–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ backend API
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞ (—É—Å–ø–µ—Ö/–æ—à–∏–±–∫–∞)
- ‚úÖ TypeScript –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å —Å—Ç—Ä–æ–≥–∏–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏
- ‚úÖ Jest —Ç–µ—Å—Ç—ã —Å –ø–æ–∫—Ä—ã—Ç–∏–µ–º

### Backend (Go + Gin)

- ‚úÖ REST API —ç–Ω–¥–ø–æ–∏–Ω—Ç `POST /api/v1/requests`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥—è—â–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ PostgreSQL —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- ‚úÖ –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
- ‚úÖ Graceful shutdown

### Database (PostgreSQL)

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ
- ‚úÖ –¢–∞–±–ª–∏—Ü—ã: users, limit_requests, approval_steps, audit_log
- ‚úÖ –¢–µ—Å—Ç–æ–≤—ã–µ –¥–∞–Ω–Ω—ã–µ (4 –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ä–∞–∑–Ω—ã–º–∏ —Ä–æ–ª—è–º–∏)
- ‚úÖ UUID –ø–µ—Ä–≤–∏—á–Ω—ã–µ –∫–ª—é—á–∏
- ‚úÖ –í–Ω–µ—à–Ω–∏–µ –∫–ª—é—á–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### Infrastructure

- ‚úÖ Docker Compose –¥–ª—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
- ‚úÖ Nginx proxy –¥–ª—è —Ä–æ—É—Ç–∏–Ω–≥–∞
- ‚úÖ Health checks
- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π
- ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Frontend

- ‚úÖ Unit —Ç–µ—Å—Ç—ã –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (Jest + React Testing Library)
- ‚úÖ –¢–µ—Å—Ç—ã API –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
- ‚úÖ TypeScript type checking

### Backend

- ‚úÖ Unit —Ç–µ—Å—Ç—ã handlers
- ‚úÖ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã —Å –±–∞–∑–æ–π –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

## üë• –¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

| –†–æ–ª—å             | –ò–º—è               | Email                | ID                                     |
| ---------------- | ----------------- | -------------------- | -------------------------------------- |
| **EMPLOYEE**     | Test User         | test@example.com     | `a005d32d-6190-477c-b23e-38c44eaaaae0` |
| **TEAM_LEAD**    | Team Lead User    | teamlead@example.com | `b123e567-e89b-12d3-a456-426614174000` |
| **RISK_OFFICER** | Risk Officer User | risk@example.com     | `c789f012-e89b-12d3-a456-426614174001` |
| **CFO**          | CFO User          | cfo@example.com      | `d456c789-e89b-12d3-a456-426614174002` |

## üîó –î–æ—Å—Ç—É–ø–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

- **–ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞**: [http://localhost](http://localhost)
- **Health check**: [http://localhost/healthz](http://localhost/healthz)
- **API**: [http://localhost/api/v1/requests](http://localhost/api/v1/requests)

## üìä –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã

1. **–ó–∞–ø—É—Å–∫ —Å–∏—Å—Ç–µ–º—ã**: `docker compose up`
2. **–°–æ–∑–¥–∞–Ω–∏–µ –∑–∞—è–≤–∫–∏**: –ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ —Ñ–æ—Ä–º—ã –Ω–∞ http://localhost
3. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤ –ë–î**:
   ```bash
   docker exec clm_postgres psql -U postgres -d postgres -c "
   SELECT lr.id, lr.amount, lr.currency, lr.justification, lr.status, u.name as user_name, lr.created_at
   FROM limit_requests lr
   JOIN users u ON lr.user_id = u.id
   ORDER BY lr.created_at DESC;"
   ```

## üöß –ü–ª–∞–Ω–∏—Ä—É–µ–º—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

- [ ] JWT —Ç–æ–∫–µ–Ω—ã
- [ ] RBAC (Role-Based Access Control)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å LDAP/Active Directory

### Workflow —Å–æ–≥–ª–∞—Å–æ–≤–∞–Ω–∏—è

- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∞–ø–ø—Ä—É–≤–µ—Ä–æ–≤
- [ ] –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–ª—è approve/reject
- [ ] –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –ø–æ email/Slack
- [ ] –≠—Å–∫–∞–ª–∞—Ü–∏—è –ø—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã—Ö –∑–∞—è–≤–æ–∫

### UI/UX —É–ª—É—á—à–µ–Ω–∏—è

- [ ] Dashboard –¥–ª—è –∞–ø–ø—Ä—É–≤–µ—Ä–æ–≤
- [ ] –ò—Å—Ç–æ—Ä–∏—è –∑–∞—è–≤–æ–∫
- [ ] –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ –ø–æ–∏—Å–∫
- [ ] –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –æ—Ç—á–µ—Ç—ã

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –Ω–∞–±–ª—é–¥–∞–µ–º–æ—Å—Ç—å

- [ ] Prometheus –º–µ—Ç—Ä–∏–∫–∏
- [ ] Grafana –¥–∞—à–±–æ—Ä–¥—ã
- [ ] Distributed tracing
- [ ] Alerting

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

- [ ] HTTPS/TLS
- [ ] Rate limiting
- [ ] Input sanitization
- [ ] Security headers

## üèÜ –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è –≤–æ—Ä–∫—à–æ–ø–∞

1. **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏** —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–∞
2. **–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ —Ç–µ—Ö–Ω–æ–ª–æ–≥–∏—è–º–∏
3. **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è** –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
4. **–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å —Ö–æ—Ä–æ—à–∏–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º
5. **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è** –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã –∏ API
6. **–†–∞–±–æ—Ç–∞—é—â–∏–π MVP** —Å –±–∞–∑–æ–≤–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é

## üìà –ú–µ—Ç—Ä–∏–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞

- **–Ø–∑—ã–∫–∏**: TypeScript, Go, SQL
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã**: 5 (frontend, backend, nginx, postgres, migrator)
- **API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã**: 1 (POST /api/v1/requests)
- **–¢–∞–±–ª–∏—Ü—ã –ë–î**: 4 (users, limit_requests, approval_steps, audit_log)
- **–¢–µ—Å—Ç–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏**: 4 (—Ä–∞–∑–Ω—ã–µ —Ä–æ–ª–∏)
- **–í—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏**: ~4 —á–∞—Å–∞ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º

## üéØ –í—ã–≤–æ–¥—ã

–ü—Ä–æ–µ–∫—Ç —É—Å–ø–µ—à–Ω–æ –¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä—É–µ—Ç:

- –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ—Å—Ç—å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ —Å AI-–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç–æ–º
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –ø—Ä–∞–∫—Ç–∏–∫–∏ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä—ã
- –ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –æ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π –¥–æ —Ä–∞–±–æ—Ç–∞—é—â–µ–≥–æ –ø—Ä–æ–¥—É–∫—Ç–∞
- –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥ —Å —Ç–µ—Å—Ç–∞–º–∏ –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π
