# Требования проекта

## Функциональные требования

- R-1. Сотрудник создаёт заявку: сумма, валюта, обоснование, желаемая дата начала.
- R-2. Система автоматически назначает тим-лида как первого согласующего.
- R-3. Тим-лид может утвердить или отклонить.
- R-4. После утверждения тим-лидом заявка уходит риск-офицеру; при сумме выше 1 000 000 RUB добавляется дополнительный уровнь CFO.
- R-5. Каждый шаг фиксирует комментарий, дату, пользователя и результат.
- R-6. Пользователь получает email-уведомления о каждом изменении статуса.
- R-7. Заявка считается “Completed” после финального утверждения или “Rejected” после любого отклонения.
- R-8. Доступ сотрудников ограничен ролями:  
   • employee — видит только свои заявки;  
   • approver — видит назначенные заявки;  
   • admin — полные права + экспорт CSV.
- R-9. API предоставляет:  
   • POST /requests, GET /requests, GET /requests/{id}, PATCH /requests/{id}/approve, PATCH /requests/{id}/reject.
- R-10. Все изменения пишутся в табличный Audit Log (request_id, action, actor, timestamp, payload_json).

## Нефункциональные требования

A. Модель данных хранится в Postgres, транзакции уровня READ COMMITTED.  
B. Максимальное время ожидания отклика API — 500 мс при пике 100 rps.  
C. Система должна выдерживать одновременную работу 500 активных пользователей на тестовом лаптопе-разработчика.  
D. Локальная сборка «из коробки»: single `docker compose up` запускает фронт, бэкенд, Postgres и Adminer.  
E. Тестирование:  
 • unit-тесты Go и React,  
 • интеграционные тесты Gin + Postgres (тест-контейнер),  
 • сценарии Playwright для happy-path.  
F. Логи пишутся в stdout в формате json (GCP-style), уровень не ниже INFO.  
G. Сервис должен быть легко расширяемым для добавления новых ролей и стадий в workflow.
